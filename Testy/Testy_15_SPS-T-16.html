<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Testy</title>

<style>
body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
#app { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
.answer { padding: 12px; margin: 8px 0; border-radius: 6px; background: #e0e0e0; cursor: pointer; }
.answer.correct { background: #7dd87d; }
.answer.wrong { background: #f27c7c; }
#stats { margin-top: 15px; font-weight: bold; }
</style>
</head>

<body>
<div id="app">
    <h2 id="question"></h2>
    <img id="questionImage" style="max-width:100%; display:none; margin:10px 0;">
    <div id="answers"></div>
    <p id="hint">Klikni na odpovÄ›Ä</p>
    <div id="stats"></div>
   <!-- TlaÄÃ­tko zpÄ›t na vÃ½bÄ›r testu -->
    <a href="../index.html" 
       style="
         display: inline-block;
         margin-top: 20px;
         background: #f44336;
         color: white;
         padding: 10px 20px;
         border-radius: 8px;
         text-decoration: none;
         font-weight: bold;
       ">
       â† ZpÄ›t na vÃ½bÄ›r testu
    </a>
</div>

<script>
let waitingForClick = false;
let answeredThisQuestion = false; // <--- novÃ¡ promÄ›nnÃ¡
let questions = [
{ id: 1, question: "Sps T01 Kdo provÃ¡dÃ­ pravidelnou ÃºdrÅ¾bu akumulÃ¡torÅ¯", answers: [
{ id: "A", text: "spojaÅ™ z vÃ½jezdu nebo urÄenÃ½ pÅ™Ã­sluÅ¡nÃ­k vÃ½jezdu", correct: true },
{ id: "B", text: "obsluha radiostanice", correct: false },
{ id: "C", text: "velitel jednotky", correct: false }
]},
{ id: 2, question: "Sps T01 PÅ™i jakÃ½ch teplotÃ¡ch optimÃ¡lnÄ› skladovat a pouÅ¾Ã­vat baterie Li-lon", answers: [
{ id: "A", text: "5 - 15Â°C", correct: true },
{ id: "B", text: "0 - 5Â°C", correct: false },
{ id: "C", text: "25 - 35Â°C", correct: false }
]},
{ id: 3, question: "Sps T02 K jakÃ©mu ÃºÄelu je pÅ™edurÄen spojovÃ½ automobil", answers: [
{ id: "A", text: "pro zajiÅ¡tÄ›nÃ­ komunikacÃ­ pro velitele zÃ¡sahu pÅ™i vyhlÃ¡Å¡enÃ­ II. A vyÅ¡Å¡Ã­ho stupnÄ› poplachu, pro technickÃ© zajiÅ¡tÄ›nÃ­ pÃ¡trÃ¡nÃ­ po pohÅ™eÅ¡ovanÃ© osobÄ›", correct: true },
{ id: "B", text: "pro technickÃ© zajiÅ¡tÄ›nÃ­ pÅ™i pÃ¡trÃ¡nÃ­ po pohÅ™eÅ¡ovanÃ© osobÄ›", correct: false },
{ id: "C", text: "pro zajiÅ¡tÄ›nÃ­ komunikacÃ­ pro velitele zÃ¡sahu pÅ™i vyhlÃ¡Å¡enÃ­ III. A vyÅ¡Å¡Ã­ho stupnÄ› poplachu", correct: false }
]},
{ id: 4, question: "Sps T02 Set pro pÃ¡trÃ¡nÃ­ v terÃ©nu â€“ GINA obsahuje", answers: [
{ id: "A", text: "Gina centrÃ¡la, 10ks tracker, 2ks tablet s GINA", correct: true },
{ id: "B", text: "10ks tracker, 2ks tablet s GINA", correct: false },
{ id: "C", text: "Gina centrÃ¡la, 2ks tablet s GINA", correct: false }
]},
{ id: 5, question: "Sps T03 MPT odjÃ­Å¾dÃ­ do opravy na vÃ­ce neÅ¾ jeden den", answers: [
{ id: "A", text: "spojovÃ© prostÅ™edky se demontujÃ­", correct: true },
{ id: "B", text: "spojovÃ© prostÅ™edky se demontujÃ­ jen v pÅ™Ã­padÄ›, Å¾e budou provÃ¡dÄ›ny prÃ¡ce svaÅ™ovacÃ­m agregÃ¡tem", correct: false },
{ id: "C", text: "spojovÃ© prostÅ™edky se nedemontujÃ­", correct: false }
]},
{ id: 6, question: "Sps T03 PÅ™i zapÅ¯jÄenÃ­ MPT na jinou PS na dobu kratÅ¡Ã­ neÅ¾ 5 dnÅ¯", answers: [
{ id: "A", text: "spojovÃ© prostÅ™edky se nedemontujÃ­ a osÃ¡dka nadÃ¡le pouÅ¾Ã­vÃ¡ volacÃ­ znaÄku mateÅ™skÃ© PS", correct: true },
{ id: "B", text: "spojovÃ© prostÅ™edky se demontujÃ­ po pÅ™Ã­jezdu na cÃ­lovou PS", correct: false },
{ id: "C", text: "spojovÃ© prostÅ™edky se po dobu zapÅ¯jÄenÃ­ nesmÃ­ pouÅ¾Ã­vat", correct: false }
]},
{ id: 7, question: "Sps T04 AnalogovÃ¡ rÃ¡diovÃ¡ sÃ­Å¥ HZS ÄŒR (ARS) je provozovÃ¡na v pÃ¡smu", answers: [
{ id: "A", text: "VHF 160 - 170 mhz", correct: true },
{ id: "B", text: "UHF 1800 - 2100 mhz", correct: false },
{ id: "C", text: "UHF 380 - 400 mhz", correct: false }
]},
{ id: 8, question: "Sps T04 Dle kmitoÄtovÃ©ho dÄ›lenÃ­ v ARS jsou pouÅ¾ity jako celostÃ¡tnÃ­ kmitoÄty zÃ¡sahovÃ©", answers: [
{ id: "A", text: "â€Kâ€œ, â€Nâ€œ, â€Iâ€œ, â€Sâ€œ", correct: true },
{ id: "B", text: "â€P1â€œ, â€P2â€œ", correct: false },
{ id: "C", text: "â€V1â€œ, â€V2â€œ", correct: false }
]},
{ id: 9, question: "Sps T05 Je u pÅ™ijÃ­maÄÅ¯ JSVV Å™eÅ¡ena ochrana proti pÅ™epÄ›tÃ­", answers: [
{ id: "A", text: "ano, varistorem", correct: true },
{ id: "B", text: "ano, pojistkou", correct: false },
{ id: "C", text: "nenÃ­ Å™eÅ¡ena", correct: false }
]},
{ id: 10, question: "Sps T05V pÅ™Ã­padÄ› vÃ½padku elektrickÃ©ho napÃ¡jenÃ­ z distribuÄnÃ­ sÃ­tÄ› je zÃ¡lohovÃ¡nÃ­ koncovÃ½ch prvkÅ¯ JSVV (sirÃ©n) zajiÅ¡tÄ›no bezÃºdrÅ¾bovÃ½mi akumulÃ¡tory u", answers: [
{ id: "A", text: "elektronickÃ½ch sirÃ©n pro provoz minimÃ¡lnÄ› po dobu 72 hodin", correct: true },
{ id: "B", text: "rotaÄnÃ­ch sirÃ©n pro provoz minimÃ¡lnÄ› po dobu 48 hodin", correct: false },
{ id: "C", text: "vÅ¡ech typÅ¯ koncovÃ½ch prvkÅ¯ pro provoz minimÃ¡lnÄ› po dobu 24 hodin", correct: false }
]},
{ id: 11, question: "Sps T06 Co je â€text to speechâ€œ", answers: [
{ id: "A", text: "jednÃ¡ se o poÄÃ­taÄem generovanou simulaci lidskÃ© Å™eÄi", correct: true },
{ id: "B", text: "kodek (kodÃ©r/dekodÃ©r) optimalizovanÃ½ pro Å™eÄ", correct: false },
{ id: "C", text: "komunikaÄnÃ­ protokol pro pÅ™enos hlasu po datovÃ© sÃ­ti", correct: false }
]},
{ id: 12, question: "Sps T06 Co je zkratka PLC", answers: [
{ id: "A", text: "programovatelnÃ½ logickÃ½ automat", correct: true },
{ id: "B", text: "napÃ¡jecÃ­ stÅ™edisko /powerline centrum/", correct: false },
{ id: "C", text: "poÄÃ­taÄovÃ© logickÃ© centrum", correct: false }
]},
{ id: 13, question: "Sps T07 AnalogovÃ¡ radiostanice urÄenÃ¡ pro pÅ™Ã­jem se v pÅ™evadÄ›Äi oznaÄuje", answers: [
{ id: "A", text: "RX", correct: true },
{ id: "B", text: "RDX", correct: false },
{ id: "C", text: "TX", correct: false }
]},
{ id: 14, question: "Sps T07 NapÄ›tÃ­ akumulÃ¡torÅ¯ monitoruje a informaci o jeho stavu pÅ™edÃ¡vÃ¡ uÅ¾ivatelÅ¯m rÃ¡diovÃ© sÃ­tÄ› prostÅ™ednictvÃ­m â€rogerbeepuâ€œ", answers: [
{ id: "A", text: "modul DKN", correct: true },
{ id: "B", text: "Duplexer", correct: false },
{ id: "C", text: "GSM komunikÃ¡tor", correct: false }
]},
{ id: 15, question: "Sps T08 PracovnÃ­ci KIS mj.", answers: [
{ id: "A", text: "na zÃ¡kladÄ› poÅ¾adavkÅ¯ velitelÅ¯ stanic zajiÅ¡Å¥ujÃ­ vyslÃ¡nÃ­ technika spojovÃ© sluÅ¾by pro odstranÄ›nÃ­ zÃ¡vad na spojovÃ½ch prostÅ™edcÃ­ch poboÄnÃ½ch poÅ¾Ã¡rnÃ­ch stanic", correct: true },
{ id: "B", text: "na zÃ¡kladÄ› poÅ¾adavkÅ¯ velitelÅ¯ stanic zajiÅ¡Å¥ujÃ­ pracovnÃ­ci KIS odstranÄ›nÃ­ zÃ¡vad na spojovÃ½ch prostÅ™edcÃ­ch poboÄnÃ½ch poÅ¾Ã¡rnÃ­ch stanic", correct: false },
{ id: "C", text: "odstranÄ›nÃ­ zÃ¡vad na spojovÃ½ch prostÅ™edcÃ­ch poboÄnÃ½ch poÅ¾Ã¡rnÃ­ch stanic si zajiÅ¡Å¥ujÃ­ pÅ™Ã­sluÅ¡nÃ­ci poboÄnÃ½ch stanic vÃ½hradnÄ› sami", correct: false }
]},
{ id: 16, question: "Sps T08 Technik spojovÃ© sluÅ¾by se mj.", answers: [
{ id: "A", text: "ÃºÄastnÃ­ se zkouÅ¡ek technologiÃ­ vyhlaÅ¡ovÃ¡nÃ­ poplachu a ve spoluprÃ¡ci s pracovnÃ­ky KIS odstraÅˆuje zÃ¡vady na tÄ›chto technologiÃ­ch", correct: true },
{ id: "B", text: "ÃºÄastnÃ­ se zkouÅ¡ek technologiÃ­ vyhlaÅ¡ovÃ¡nÃ­ poplachu a ve spoluprÃ¡ci s pracovnÃ­ky OPIS odstraÅˆuje zÃ¡vady na tÄ›chto technologiÃ­ch", correct: false },
{ id: "C", text: "zkouÅ¡ek technologiÃ­ vyhlaÅ¡ovÃ¡nÃ­ poplachu se neÃºÄastnÃ­", correct: false }
  ]}
];

let unanswered = shuffle([...questions]); // fronta otÃ¡zek
let wrongQuestions = []; // Å¡patnÃ© odpovÄ›di
let stats = { correct: 0, wrong: 0 };

showQuestion();

document.getElementById("app").addEventListener("click", (e) => {
    if (!waitingForClick) return;
    if (e.target.classList.contains("answer")) return;

    waitingForClick = false;
    showQuestion();
});

function showQuestion() {
    answeredThisQuestion = false;   // odblokuje kliky pro novou otÃ¡zku
    document.getElementById("hint").innerText = "Klikni na odpovÄ›Ä";

    if (unanswered.length === 0) {
        document.getElementById("question").innerText = "Test dokonÄen ğŸ‰";
        document.getElementById("answers").innerHTML = "";
        updateStats();
        return;
    }

    const currentIndex = Math.floor(Math.random() * unanswered.length);
    const q = unanswered[currentIndex];

    document.getElementById("question").innerText = q.question;

const img = document.getElementById("questionImage");

if (q.questionImage) {
    img.src = q.questionImage;
    img.style.display = "block";
} else {
    img.style.display = "none";
}

    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    shuffle(q.answers).forEach(a => {
        const div = document.createElement("div");
        div.className = "answer";
        div.innerText = a.text;

       div.onclick = () => {
    if (answeredThisQuestion) return;  // blokuje vÃ­cenÃ¡sobnÃ© kliky
    answeredThisQuestion = true;       // hned po prvnÃ­m kliknutÃ­ zamkne
    if (waitingForClick) return;

    document.querySelectorAll(".answer").forEach(el => {
        const ansObj = q.answers.find(x => x.text === el.innerText);
        el.classList.add(ansObj.correct ? "correct" : "wrong");
    });

    if (a.correct) {
        stats.correct++;
        unanswered.splice(currentIndex, 1);

        updateStats();
        setTimeout(showQuestion, 1000); // sprÃ¡vnÄ› â†’ automaticky
    } else {
        stats.wrong++;
        waitingForClick = true;

        document.getElementById("hint").innerText =
            "âŒ Å patnÄ› â€“ klikni kamkoliv pro pokraÄovÃ¡nÃ­";

        wrongQuestions.push({
            question: q.question,
            correctAnswer: q.answers.find(x => x.correct).text,
            userAnswer: a.text
        });

        updateStats();
    }
};

        answersDiv.appendChild(div);
    });
}

function updateStats() {
    document.getElementById("stats").innerHTML =
        `âœ… SprÃ¡vnÄ›: ${stats.correct} | âŒ Å patnÄ›: ${stats.wrong}`;
}

// jednoduchÃ© zamÃ­chÃ¡nÃ­ pole
function shuffle(arr) {
    return arr.sort(() => Math.random() - 0.5);
}
</script>
</body>
</html>
