<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Testy</title>

<style>
body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
#app { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
.answer { padding: 12px; margin: 8px 0; border-radius: 6px; background: #e0e0e0; cursor: pointer; }
.answer.correct { background: #7dd87d; }
.answer.wrong { background: #f27c7c; }
#stats { margin-top: 15px; font-weight: bold; }
</style>
</head>

<body>
<div id="app">
    <h2 id="question"></h2>
    <img id="questionImage" style="max-width:100%; display:none; margin:10px 0;">
    <div id="answers"></div>
    <p id="hint">Klikni na odpovÄ›Ä</p>
    <div id="stats"></div>
   <!-- TlaÄÃ­tko zpÄ›t na vÃ½bÄ›r testu -->
    <a href="../index.html" 
       style="
         display: inline-block;
         margin-top: 20px;
         background: #f44336;
         color: white;
         padding: 10px 20px;
         border-radius: 8px;
         text-decoration: none;
         font-weight: bold;
       ">
       â† ZpÄ›t na vÃ½bÄ›r testu
    </a>
</div>

<script>
let waitingForClick = false;
let answeredThisQuestion = false; // <--- novÃ¡ promÄ›nnÃ¡
let questions = [
{ id: 1, question: "Sps01 FyzickÃ¡ osoba se dle zÃ¡kona o elektronickÃ½ch komunikacÃ­ch dopustÃ­ uskuteÄnÄ›nÃ­m zlomyslnÃ©ho volÃ¡nÃ­ na ÄÃ­slo tÃ­sÅˆovÃ©ho volÃ¡nÃ­", answers: [
{ id: "A", text: "pÅ™estupku, za nÄ›Å¾ se mÅ¯Å¾e uloÅ¾it pokuta do 200 000 KÄ", correct: true },
{ id: "B", text: "nenÃ­ trestnÃ©", correct: false },
{ id: "C", text: "sprÃ¡vnÃ­ho deliktu", correct: false }
]},
{ id: 2, question: "Sps01 ÃšstÅ™ednÃ­m sprÃ¡vnÃ­m ÃºÅ™adem ve vÄ›cech stanovenÃ½ch zÃ¡konem o telekomunikacÃ­ch je", answers: [
{ id: "A", text: "ÄŒeskÃ½ telekomunikaÄnÃ­ ÃºÅ™ad", correct: true },
{ id: "B", text: "GenerÃ¡lnÃ­ Å™editelstvÃ­ HZS ÄŒR", correct: false },
{ id: "C", text: "Ministerstvo vnitra", correct: false }
]},
{ id: 3, question: "Sps03 Co je EMOCH 199", answers: [
{ id: "A", text: "komunikaÄnÃ­ prostÅ™edÃ­ automaticky otevÅ™enÃ© v DRS po stisknutÃ­ tlaÄÃ­tka nouze u terminÃ¡lu organizace 5 nebo 6, kterÃ½ je registrovÃ¡n pod nÄ›kterou buÅˆkou DRS", correct: true },
{ id: "B", text: "alternativnÃ­ komunikaÄnÃ­ prostÅ™edÃ­, umoÅ¾ÅˆujÃ­cÃ­ KOPIS HZS kraje pÅ™eÅ™azenÃ­ komunikacÃ­ z ÃºzemnÃ­ch TKG. Velitel zÃ¡sahu musÃ­ poÅ¾Ã¡dat KOPIS o pÅ™idÄ›lenÃ­ jednÃ© z akÄnÃ­ch TKG", correct: false },
{ id: "C", text: "hlavnÃ­ komunikaÄnÃ­ prostÅ™edÃ­, mezi zÃ¡kladnovÃ½mi a pohyblivÃ½mi terminÃ¡ly, pÅ™Ã­padnÄ› mezi pohyblivÃ½mi terminÃ¡ly navzÃ¡jem", correct: false }
]},
{ id: 4, question: "Sps04 Index volacÃ­ znaÄky velitelskÃ©ho automobilu je", answers: [
{ id: "A", text: "105", correct: true },
{ id: "B", text: "101", correct: false },
{ id: "C", text: "106", correct: false }
]},
{ id: 5, question: "Sps04 OtevÅ™enÃ© volacÃ­ znaÄky se pouÅ¾Ã­vajÃ­", answers: [
{ id: "A", text: "v mÃ­stÄ› zÃ¡sahu", correct: true },
{ id: "B", text: "pro komunikaci mezi KOPIS", correct: false },
{ id: "C", text: "pÅ™i jÃ­zdÄ› na mÃ­sto zÃ¡sahu", correct: false }
]},
{ id: 6, question: "Sps05 Po stisknutÃ­ tÃ­sÅˆovÃ©ho tlaÄÃ­tka terminÃ¡lu", answers: [
{ id: "A", text: "nesmÃ­ obsluha terminÃ¡l vypnout a je povinna vyÄkat na vstoupenÃ­ terminÃ¡lu KOPIS HZS kraje (pÅ™Ã­p. JinÃ½ch oprÃ¡vnÄ›nÃ½ch) do tÃ­sÅˆovÃ© komunikace", correct: true },
{ id: "B", text: "je obsluha terminÃ¡lu povinna pÅ™epnout na kanÃ¡l IDR 29 HZS a zahÃ¡jit komunikaci volÃ¡nÃ­m â€Pomoc, pomoc, pomoc, zde stanice v tÃ­sni, pÅ™Ã­jemâ€œ", correct: false },
{ id: "C", text: "je obsluha terminÃ¡lu povinna zapnout SCAN vÅ¡ech dostupnÃ½ch kanÃ¡lÅ¯ a zahÃ¡jit komunikaci volÃ¡nÃ­m â€VÅ¡em, vÅ¡em, vÅ¡em, zde stanice v tÃ­sni, pÅ™Ã­jemâ€œ", correct: false }
]},
{ id: 7, question: "Sps05 StatusovÃ© hlÃ¡Å¡enÃ­ â€Å¾Ã¡dost o spojenÃ­â€œ se pouÅ¾Ã­vÃ¡", answers: [
{ id: "A", text: "pÅ™ednostnÄ› pÅ™i navazovÃ¡nÃ­ komunikace s KOPIS HZS kraje ze stanice umoÅ¾ÅˆujÃ­cÃ­ odeslÃ¡nÃ­ statusovÃ©ho hlÃ¡Å¡enÃ­", correct: true },
{ id: "B", text: "pouze pÅ™i Å¡patnÃ© slyÅ¡itelnosti pÅ™i navazovÃ¡nÃ­ komunikace s KOPIS HZS kraje ze stanice umoÅ¾ÅˆujÃ­cÃ­ odeslÃ¡nÃ­ statusovÃ©ho hlÃ¡Å¡enÃ­", correct: false },
{ id: "C", text: "pÅ™i probÃ­hajÃ­cÃ­ komunikaci s KOPIS HZS kraje ze stanice umoÅ¾ÅˆujÃ­cÃ­ odeslÃ¡nÃ­ statusovÃ©ho hlÃ¡Å¡enÃ­", correct: false }
]},
{ id: 8, question: "Sps06 Jak Äasto musÃ­ bÃ½t provÃ¡dÄ›no pÅ™ebÃ­jenÃ­ radiostanic tzv. â€refreshâ€œ", answers: [
{ id: "A", text: "1x za 14 dnÃ­. MinimÃ¡lnÄ› 1x za mÄ›sÃ­c.", correct: true },
{ id: "B", text: "1x za 3 mÄ›sÃ­ce. MinimÃ¡lnÄ› vÅ¡ak 1x za pÅ¯l roku.", correct: false },
{ id: "C", text: "1x za pÅ¯l roku. MinimÃ¡lnÄ› vÅ¡ak 1x za rok.", correct: false }
]},
{ id: 9, question: "Sps06 Na kterÃ© pozici na radiostanici je naprogramovÃ¡na hlavnÃ­ TKG pro komunikaci s KOPIS", answers: [
{ id: "A", text: "na pozici 9", correct: true },
{ id: "B", text: "na pozici 1", correct: false },
{ id: "C", text: "na pozici 15", correct: false }
]},
{ id: 10, question: "Sps07 Jakou formou se pÅ™edÃ¡vajÃ­ standardnÃ­ zprÃ¡vy o Äinnosti jednotky PO z mÃ­sta zÃ¡sahu na KOPIS HZS kraje pÅ™ednostnÄ›", answers: [
{ id: "A", text: "formou statusÅ¯", correct: true },
{ id: "B", text: "pomocÃ­ DRS nebo ARS", correct: false },
{ id: "C", text: "pÅ™es radiostanice nebo mobilnÃ­ telefony", correct: false }
]},
{ id: 11, question: "Sps08 Mohou mÃ­t dva terminÃ¡ly PEGAS stejnou RFSI adresu", answers: [
{ id: "A", text: "ne", correct: true },
{ id: "B", text: "ano", correct: false },
{ id: "C", text: "na vÃ½jimku MV ÄŒR ano", correct: false }
]},
{ id: 12, question: "Sps08 StatusovÃ¡ hlÃ¡Å¡enÃ­ se pouÅ¾Ã­vajÃ­", answers: [
{ id: "A", text: "prioritnÄ› namÃ­sto hlasovÃ© komunikace", correct: true },
{ id: "B", text: "k doplnÄ›nÃ­ hlasovÃ© zprÃ¡vy", correct: false },
{ id: "C", text: "pÅ™i nesrozumitelnosti hlasovÃ© komunikace", correct: false }
]},
{ id: 13, question: "Sps11 KterÃ© z navigaÄnÃ­ch prostÅ™edkÅ¯ se vyuÅ¾Ã­vÃ¡ pro pÅ™Ã­jezd na mÃ­sto udÃ¡losti u HZS OLK", answers: [
{ id: "A", text: "GINA", correct: true },
{ id: "B", text: "Oregon 450", correct: false },
{ id: "C", text: "POINT.X", correct: false }
]},
{ id: 14, question: "Sps14 K Äemu slouÅ¾Ã­ Portall", answers: [
{ id: "A", text: "nÃ¡stroj pro synchronizaci dat mezi JSDH a HZS", correct: true },
{ id: "B", text: "nÃ¡stroj pro synchronizaci dat mezi HZS krajÅ¯", correct: false },
{ id: "C", text: "vÃ½luÄnÄ› pro pÅ™edÃ¡vÃ¡nÃ­ zprÃ¡v o zÃ¡sahu a elektronickou formou", correct: false }
  ]}
];

let unanswered = shuffle([...questions]); // fronta otÃ¡zek
let wrongQuestions = []; // Å¡patnÃ© odpovÄ›di
let stats = { correct: 0, wrong: 0 };

showQuestion();

document.getElementById("app").addEventListener("click", (e) => {
    if (!waitingForClick) return;
    if (e.target.classList.contains("answer")) return;

    waitingForClick = false;
    showQuestion();
});

function showQuestion() {
    answeredThisQuestion = false;   // odblokuje kliky pro novou otÃ¡zku
    document.getElementById("hint").innerText = "Klikni na odpovÄ›Ä";

    if (unanswered.length === 0) {
        document.getElementById("question").innerText = "Test dokonÄen ğŸ‰";
        document.getElementById("answers").innerHTML = "";
        updateStats();
        return;
    }

    const currentIndex = Math.floor(Math.random() * unanswered.length);
    const q = unanswered[currentIndex];

    document.getElementById("question").innerText = q.question;

const img = document.getElementById("questionImage");

if (q.questionImage) {
    img.src = q.questionImage;
    img.style.display = "block";
} else {
    img.style.display = "none";
}

    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    shuffle(q.answers).forEach(a => {
        const div = document.createElement("div");
        div.className = "answer";
        div.innerText = a.text;

       div.onclick = () => {
    if (answeredThisQuestion) return;  // blokuje vÃ­cenÃ¡sobnÃ© kliky
    answeredThisQuestion = true;       // hned po prvnÃ­m kliknutÃ­ zamkne
    if (waitingForClick) return;

    document.querySelectorAll(".answer").forEach(el => {
        const ansObj = q.answers.find(x => x.text === el.innerText);
        el.classList.add(ansObj.correct ? "correct" : "wrong");
    });

    if (a.correct) {
        stats.correct++;
        unanswered.splice(currentIndex, 1);

        updateStats();
        setTimeout(showQuestion, 1000); // sprÃ¡vnÄ› â†’ automaticky
    } else {
        stats.wrong++;
        waitingForClick = true;

        document.getElementById("hint").innerText =
            "âŒ Å patnÄ› â€“ klikni kamkoliv pro pokraÄovÃ¡nÃ­";

        wrongQuestions.push({
            question: q.question,
            correctAnswer: q.answers.find(x => x.correct).text,
            userAnswer: a.text
        });

        updateStats();
    }
};

        answersDiv.appendChild(div);
    });
}

function updateStats() {
    document.getElementById("stats").innerHTML =
        `âœ… SprÃ¡vnÄ›: ${stats.correct} | âŒ Å patnÄ›: ${stats.wrong}`;
}

// jednoduchÃ© zamÃ­chÃ¡nÃ­ pole
function shuffle(arr) {
    return arr.sort(() => Math.random() - 0.5);
}
</script>
</body>
</html>
