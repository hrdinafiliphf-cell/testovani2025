<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Testy</title>

<style>
body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
#app { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
.answer { padding: 12px; margin: 8px 0; border-radius: 6px; background: #e0e0e0; cursor: pointer; }
.answer.correct { background: #7dd87d; }
.answer.wrong { background: #f27c7c; }
#stats { margin-top: 15px; font-weight: bold; }
</style>
</head>

<body>
<div id="app">
    <h2 id="question"></h2>
    <img id="questionImage" style="max-width:100%; display:none; margin:10px 0;">
    <div id="answers"></div>
    <p id="hint">Klikni na odpovÄ›Ä</p>
    <div id="stats"></div>
   <!-- TlaÄÃ­tko zpÄ›t na vÃ½bÄ›r testu -->
    <a href="../index.html" 
       style="
         display: inline-block;
         margin-top: 20px;
         background: #f44336;
         color: white;
         padding: 10px 20px;
         border-radius: 8px;
         text-decoration: none;
         font-weight: bold;
       ">
       â† ZpÄ›t na vÃ½bÄ›r testu
    </a>
</div>

<script>
let waitingForClick = false;
let answeredThisQuestion = false; // <--- novÃ¡ promÄ›nnÃ¡
let questions = [
{ id: 1, question: "BOZP01 PÅ™Ã­sluÅ¡nÃ­k je povinen dbÃ¡t:", answers: [
{ id: "A", text: "o vlastnÃ­ bezpeÄnost a ochranu zdravÃ­ osob, kterÃ½ch se bezprostÅ™ednÄ› dotÃ½kÃ¡ jeho jednÃ¡nÃ­", correct: true },
{ id: "B", text: "jen o vlastnÃ­ bezpeÄnost", correct: false },
{ id: "C", text: "o vlastnÃ­ bezpeÄnost, na druhÃ© osoby nebere ohled", correct: false }
]},
{ id: 2, question: "BOZP01 PÅ™Ã­sluÅ¡nÃ­k:", answers: [
{ id: "A", text: "je povinen podrobit se na vÃ½zvu sluÅ¾ebnÃ­ho funkcionÃ¡Å™e lÃ©kaÅ™skÃ©mu vyÅ¡etÅ™enÃ­ za ÃºÄelem ovÄ›Å™enÃ­ zdravotnÃ­ zpÅ¯sobilosti", correct: true },
{ id: "B", text: "nenÃ­ povinen podrobit se na vÃ½zvu sluÅ¾ebnÃ­ho funkcionÃ¡Å™e lÃ©kaÅ™skÃ©mu vyÅ¡etÅ™enÃ­", correct: false },
{ id: "C", text: "se podrobÃ­ lÃ©kaÅ™skÃ©mu vyÅ¡etÅ™enÃ­ za ÃºÄelem ovÄ›Å™enÃ­ zdravotnÃ­ zpÅ¯sobilosti, jen uznÃ¡-li to za vhodnÃ©", correct: false }
]},
{ id: 3, question: "BOZP02 VÃ½Å¡e nÃ¡hrady Å¡kody zpÅ¯sobenÃ© z nedbalosti nesmÃ­ u pÅ™Ã­sluÅ¡nÃ­ka pÅ™esÃ¡hnout", answers: [
{ id: "A", text: "ÄtyÅ™apÅ¯lnÃ¡sobek jeho prÅ¯mÄ›rnÃ©ho mÄ›sÃ­ÄnÃ­ho pÅ™Ã­jmu", correct: true },
{ id: "B", text: "dvojapÅ¯lnÃ¡sobek jeho prÅ¯mÄ›rnÃ©ho mÄ›sÃ­ÄnÃ­ho pÅ™Ã­jmu", correct: false },
{ id: "C", text: "tÅ™Ã­apÅ¯lnÃ¡sobek jeho prÅ¯mÄ›rnÃ©ho mÄ›sÃ­ÄnÃ­ho pÅ™Ã­jmu", correct: false }
]},
{ id: 4, question: "BOZP02 ZÃ¡znam o Ãºrazu vyhotovuje zamÄ›stnavatel neprodlenÄ›, nejpozdÄ›ji vÅ¡ak do", answers: [
{ id: "A", text: "pÄ›ti pracovnÃ­ch dnÅ¯", correct: true },
{ id: "B", text: "ÄtyÅ™ pracovnÃ­ch dnÅ¯", correct: false },
{ id: "C", text: "tÅ™Ã­ pracovnÃ­ch dnÅ¯", correct: false }
]},
{ id: 5, question: "BOZP04 PracovnÃ­ci seznÃ¡meni mohou", answers: [
{ id: "A", text: "zapÃ­nat a vypÃ­nat jednoduchÃ¡ el. ZaÅ™Ã­zenÃ­", correct: true },
{ id: "B", text: "pouÅ¾Ã­vat poÅ¡kozenÃ© el. ZaÅ™Ã­zenÃ­", correct: false },
{ id: "C", text: "pracovat na nekrytÃ½ch Å¾ivÃ½ch ÄÃ¡stech el. ZaÅ™Ã­zenÃ­", correct: false }
]},
{ id: 6, question: "BOZP04 PracovnÃ­ci seznÃ¡meni mohou sami obsluhovat", answers: [
{ id: "A", text: "el. ZaÅ™Ã­zenÃ­ malÃ©ho a nÃ­zkÃ©ho napÄ›tÃ­", correct: true },
{ id: "B", text: "el. ZaÅ™Ã­zenÃ­ vysokÃ©ho napÄ›tÃ­", correct: false },
{ id: "C", text: "el. ZaÅ™Ã­zenÃ­ velmi vysokÃ©ho napÄ›tÃ­", correct: false }
]},
{ id: 7, question: "BOZP05 Å roubovÃ¡ky se pouÅ¾Ã­vajÃ­", answers: [
{ id: "A", text: "vÃ½hradnÄ› na Å¡roubovÃ¡nÃ­", correct: true },
{ id: "B", text: "pÅ™Ã­leÅ¾itostnÄ› jako pÃ¡Äidlo", correct: false },
{ id: "C", text: "v nutnÃ©m pÅ™Ã­padÄ› jako dlÃ¡to", correct: false }
]},
{ id: 8, question: "BOZP05 V prostÅ™edÃ­, kde je nebezpeÄÃ­ vÃ½buchu, musÃ­ bÃ½t pouÅ¾Ã­vanÃ© nÃ¡Å™adÃ­ z", answers: [
{ id: "A", text: "nejiskÅ™Ã­cÃ­ho materiÃ¡lu", correct: true },
{ id: "B", text: "kovovÃ©ho materiÃ¡lu", correct: false },
{ id: "C", text: "nehoÅ™lavÃ©ho materiÃ¡lu", correct: false }
]},
{ id: 9, question: "BOZP07 PracovnÃ­ obvodovÃ¡ rychlost brusnÃ©ho kotouÄe", answers: [
{ id: "A", text: "nesmÃ­ pÅ™ekroÄit dovolenÃ© hodnoty", correct: true },
{ id: "B", text: "mÅ¯Å¾e bÃ½t pÅ™ekroÄena max. O 10 %", correct: false },
{ id: "C", text: "nenÃ­ nijak omezena", correct: false }
]},
{ id: 10, question: "BOZP08 MaximÃ¡lnÃ­ doba Å™Ã­zenÃ­ musÃ­ bÃ½t pÅ™eruÅ¡ena bezpeÄnostnÃ­ pÅ™estÃ¡vkou v trvÃ¡nÃ­ nejmÃ©nÄ›", answers: [
{ id: "A", text: "30 min", correct: true },
{ id: "B", text: "20 min", correct: false },
{ id: "C", text: "40 min", correct: false }
]},
{ id: 11, question: "BOZP08 ZamÄ›stnanec nesmÃ­ pÅ™ekroÄit maximÃ¡lnÃ­ dobu Å™Ã­zenÃ­, kterÃ¡ ÄinÃ­", answers: [
{ id: "A", text: "4,5 hod", correct: true },
{ id: "B", text: "3,5 hod", correct: false },
{ id: "C", text: "5,5 hod", correct: false }
]},
{ id: 12, question: "BOZP09 Nosnost zvedÃ¡ku", answers: [
{ id: "A", text: "nesmÃ­ bÃ½t v Å¾Ã¡dnÃ©m pÅ™Ã­padÄ› pÅ™ekroÄena", correct: true },
{ id: "B", text: "mÅ¯Å¾e bÃ½t pÅ™ekroÄena maximÃ¡lnÄ› o 10 %", correct: false },
{ id: "C", text: "nenÃ­ nijak omezena", correct: false }
]},
{ id: 13, question: "BOZP09 ZvedÃ¡k se umÃ­sÅ¥uje pod vozidlo", answers: [
{ id: "A", text: "jen v pÅ™edepsanÃ½ch bodech vÃ½robcem", correct: true },
{ id: "B", text: "na jakÃ©koliv ÃºchytnÃ© mÃ­sto", correct: false },
{ id: "C", text: "tam, kde je zajiÅ¡tÄ›na jeho stabilita", correct: false }
]},
{ id: 14, question: "BOZP11 JeÅ™Ã¡bnÃ­k nesmÃ­ opustit jeÅ™Ã¡b", answers: [
{ id: "A", text: "pokud je bÅ™emeno zavÄ›Å¡eno", correct: true },
{ id: "B", text: "dokud se zavÄ›Å¡enÃ© bÅ™emeno hÃ½be", correct: false },
{ id: "C", text: "pohybujÃ­-li se v jeho blÃ­zkosti nepovolanÃ© osoby", correct: false }
]},
{ id: 15, question: "BOZP11 VyhrazenÃ¡ zdvihacÃ­ zaÅ™Ã­zenÃ­ jsou", answers: [
{ id: "A", text: "jeÅ™Ã¡by o nosnosti nad 5 000 kg", correct: true },
{ id: "B", text: "vrÃ¡tky", correct: false },
{ id: "C", text: "zdviÅ¾nÃ¡ Äela nÃ¡kladnÃ­ch automobilÅ¯", correct: false }
]},
{ id: 16, question: "BOZP13 SvÄ›telnÃ© a zvukovÃ© signÃ¡ly musÃ­ bÃ½t vydÃ¡vÃ¡ny", answers: [
{ id: "A", text: "po celou dobu po kterou to provÃ¡dÄ›nÃ­ tÃ©to Äinnosti vyÅ¾aduje", correct: true },
{ id: "B", text: "jen pÅ™i zahÃ¡jenÃ­ a ukonÄenÃ­ pÅ™Ã­sluÅ¡nÃ© Äinnosti", correct: false },
{ id: "C", text: "jen pÅ™i zahÃ¡jenÃ­ pÅ™Ã­sluÅ¡nÃ© Äinnost", correct: false }
]},
{ id: 17, question: "BOZP13 ZnaÄky vÃ½strahy majÃ­", answers: [
{ id: "A", text: "trojÃºhelnÃ­kovÃ½ tvar s ÄernÃ½m piktogramem na Å¾lutÃ©m pozadÃ­", correct: true },
{ id: "B", text: "kruhovÃ½ tvar s bÃ­lÃ½m piktogramem na modrÃ©m pozadÃ­", correct: false },
{ id: "C", text: "obdÃ©lnÃ­kovÃ½ nebo ÄtvercovÃ½ tvar s bÃ­lÃ½m piktogramem na zelenÃ©m pozadÃ­", correct: false }
]},
{ id: 18, question: "BOZP14 OchrannÃ½mi prostÅ™edky dle NV 495/2001 Sb. Jsou", answers: [
{ id: "A", text: "ochrannÃ© prostÅ™edky, kterÃ© chrÃ¡nÃ­ zamÄ›stnance pÅ™ed riziky", correct: true },
{ id: "B", text: "sportovnÃ­ vÃ½stroj a vybavenÃ­", correct: false },
{ id: "C", text: "vÃ½stroj a vybavenÃ­ pouÅ¾Ã­vanÃ© pÅ™i provozu na pozemnÃ­ch komunikacÃ­ch", correct: false }
]},
{ id: 19, question: "BOZP14 PouÅ¾Ã­vÃ¡nÃ­ ochrannÃ½ch prostÅ™edkÅ¯ vÃ­ce zamÄ›stnanci", answers: [
{ id: "A", text: "je moÅ¾nÃ© pouze v pÅ™Ã­padÄ›, Å¾e byla uÄinÄ›na opatÅ™enÃ­, kterÃ¡ zamezÃ­ ohroÅ¾enÃ­ pÅ™enosnÃ½mi chorobami", correct: true },
{ id: "B", text: "je moÅ¾nÃ© jen na zÃ¡kladÄ› pÅ™Ã­kazu vedoucÃ­ho zamÄ›stnance", correct: false },
{ id: "C", text: "nenÃ­ moÅ¾nÃ© v Å¾Ã¡dnÃ©m pÅ™Ã­padÄ›", correct: false }
]},
{ id: 20, question: "BOZP15 Max. TlouÅ¡Å¥ka kÃ¡cenÃ©ho stromu pomocÃ­ kÅ™ovinoÅ™ezu je", answers: [
{ id: "A", text: "10 cm", correct: true },
{ id: "B", text: "15 cm", correct: false },
{ id: "C", text: "20 cm", correct: false }
]},
{ id: 21, question: "BOZP15 PÅ™i prÃ¡ci se sekaÄkou se povaÅ¾uje za ohroÅ¾enÃ½ prostor", answers: [
{ id: "A", text: "kruhovÃ¡ plocha o polomÄ›ru 15 m", correct: true },
{ id: "B", text: "prostor urÄenÃ½ obsluhou stroje s pÅ™ihlÃ©dnutÃ­m k mÃ­stnÃ­m podmÃ­nkÃ¡m", correct: false },
{ id: "C", text: "vzdÃ¡lenost 10 m od pracovnÃ­ho stroje", correct: false }
]},
{ id: 22, question: "FP02 V disciplÃ­nÄ› bÄ›h na 2000 m pÅ™i zkouÅ¡ce fyzickÃ© zdatnosti je povoleno chodit", answers: [
{ id: "A", text: "ano", correct: true },
{ id: "B", text: "ne", correct: false },
{ id: "C", text: "ne, musÃ­ se bÄ›hat nejvyÅ¡Å¡Ã­ rychlostÃ­", correct: false }
]},
{ id: 23, question: "FP02 ZkouÅ¡ka fyzickÃ© zdatnosti se provÃ¡dÃ­ takÃ©", answers: [
{ id: "A", text: "bÄ›hem na 2000 m", correct: true },
{ id: "B", text: "bÄ›hem na 100 m", correct: false },
{ id: "C", text: "bÄ›hem na 1500 m", correct: false }
]},
{ id: 24, question: "FP04 PÅ™i provÃ¡dÄ›nÃ­ fyzickÃ© zkouÅ¡ky plavÃ¡nÃ­m se smÃ­ plavat", answers: [
{ id: "A", text: "libovolnÃ½m zpÅ¯sobem", correct: true },
{ id: "B", text: "zpÅ¯sobem upÅ™esnÄ›nÃ½m zkouÅ¡ejÃ­cÃ­m pÅ™Ã­sluÅ¡nÃ­kem", correct: false },
{ id: "C", text: "zpÅ¯sobem urÄenÃ½m naÅ™Ã­zenÃ­m generÃ¡lnÃ­ho Å™editele HZS ÄŒR", correct: false }
]},
{ id: 25, question: "FP04 ZkouÅ¡ka fyzickÃ© zdatnosti se provÃ¡dÃ­ takÃ©", answers: [
{ id: "A", text: "plavÃ¡nÃ­m na 200 m", correct: true },
{ id: "B", text: "plavÃ¡nÃ­m na 2000 m", correct: false },
{ id: "C", text: "plavÃ¡nÃ­m na 300 m", correct: false }
  ]}
];

let unanswered = shuffle([...questions]); // fronta otÃ¡zek
let wrongQuestions = []; // Å¡patnÃ© odpovÄ›di
let stats = { correct: 0, wrong: 0 };

showQuestion();

document.getElementById("app").addEventListener("click", (e) => {
    if (!waitingForClick) return;
    if (e.target.classList.contains("answer")) return;

    waitingForClick = false;
    showQuestion();
});

function showQuestion() {
    answeredThisQuestion = false;   // odblokuje kliky pro novou otÃ¡zku
    document.getElementById("hint").innerText = "Klikni na odpovÄ›Ä";

    if (unanswered.length === 0) {
        document.getElementById("question").innerText = "Test dokonÄen ğŸ‰";
        document.getElementById("answers").innerHTML = "";
        updateStats();
        return;
    }

    const currentIndex = Math.floor(Math.random() * unanswered.length);
    const q = unanswered[currentIndex];

    document.getElementById("question").innerText = q.question;

const img = document.getElementById("questionImage");

if (q.questionImage) {
    img.src = q.questionImage;
    img.style.display = "block";
} else {
    img.style.display = "none";
}

    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    shuffle(q.answers).forEach(a => {
        const div = document.createElement("div");
        div.className = "answer";
        div.innerText = a.text;

       div.onclick = () => {
    if (answeredThisQuestion) return;  // blokuje vÃ­cenÃ¡sobnÃ© kliky
    answeredThisQuestion = true;       // hned po prvnÃ­m kliknutÃ­ zamkne
    if (waitingForClick) return;

    document.querySelectorAll(".answer").forEach(el => {
        const ansObj = q.answers.find(x => x.text === el.innerText);
        el.classList.add(ansObj.correct ? "correct" : "wrong");
    });

    if (a.correct) {
        stats.correct++;
        unanswered.splice(currentIndex, 1);

        updateStats();
        setTimeout(showQuestion, 1000); // sprÃ¡vnÄ› â†’ automaticky
    } else {
        stats.wrong++;
        waitingForClick = true;

        document.getElementById("hint").innerText =
            "âŒ Å patnÄ› â€“ klikni kamkoliv pro pokraÄovÃ¡nÃ­";

        wrongQuestions.push({
            question: q.question,
            correctAnswer: q.answers.find(x => x.correct).text,
            userAnswer: a.text
        });

        updateStats();
    }
};

        answersDiv.appendChild(div);
    });
}

function updateStats() {
    document.getElementById("stats").innerHTML =
        `âœ… SprÃ¡vnÄ›: ${stats.correct} | âŒ Å patnÄ›: ${stats.wrong}`;
}

// jednoduchÃ© zamÃ­chÃ¡nÃ­ pole
function shuffle(arr) {
    return arr.sort(() => Math.random() - 0.5);
}
</script>
</body>
</html>
