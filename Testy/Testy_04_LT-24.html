<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Testy</title>

<style>
body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
#app { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
.answer { padding: 12px; margin: 8px 0; border-radius: 6px; background: #e0e0e0; cursor: pointer; }
.answer.correct { background: #7dd87d; }
.answer.wrong { background: #f27c7c; }
#stats { margin-top: 15px; font-weight: bold; }
</style>
</head>

<body>
<div id="app">
    <h2 id="question"></h2>
    <img id="questionImage" style="max-width:100%; display:none; margin:10px 0;">
    <div id="answers"></div>
    <p id="hint">Klikni na odpovÄ›Ä</p>
    <div id="stats"></div>
   <!-- TlaÄÃ­tko zpÄ›t na vÃ½bÄ›r testu -->
    <a href="../index.html" 
       style="
         display: inline-block;
         margin-top: 20px;
         background: #f44336;
         color: white;
         padding: 10px 20px;
         border-radius: 8px;
         text-decoration: none;
         font-weight: bold;
       ">
       â† ZpÄ›t na vÃ½bÄ›r testu
    </a>
</div>

<script>
let waitingForClick = false;
let answeredThisQuestion = false; // <--- novÃ¡ promÄ›nnÃ¡
let questions = [
{ id: 1, question: "LT02 JakÃ½ typ karabiny lze pouÅ¾Ã­t pro slanÄ›nÃ­ pomocÃ­ poloviÄnÃ­ho lodnÃ­ho uzlu", answers: [
{ id: "A", text: "typ HMS", correct: true },
{ id: "B", text: "typ MMS", correct: false },
{ id: "C", text: "vÅ¡echny typy", correct: false }
]},
{ id: 2, question: "LT02 Pokud dojde k potÅ™Ã­snÄ›nÃ­ lana neznÃ¡mou chemikÃ¡liÃ­ je nutnÃ©", answers: [
{ id: "A", text: "lano vyÅ™adit", correct: true },
{ id: "B", text: "lano vyprat v mÃ½dlovÃ© vodÄ› a vysuÅ¡it", correct: false },
{ id: "C", text: "pouÅ¾Ã­vat se zvÃ½Å¡enou opatrnostÃ­", correct: false }
]},
{ id: 3, question: "LT03 Lze pouÅ¾Ã­t zÃ¡chrannou horolezeckou kladku a horolezeckÃ© lano k vyproÅ¡tÄ›nÃ­ havarovanÃ©ho vozidla", answers: [
{ id: "A", text: "ne", correct: true },
{ id: "B", text: "ano", correct: false },
{ id: "C", text: "pouze po promazÃ¡nÃ­ lana speciÃ¡lnÃ­m mazivem Mazut", correct: false }
]},
{ id: 4, question: "LT05 KotevnÃ­ bod", answers: [
{ id: "A", text: "musÃ­ odolat maximÃ¡lnÃ­mu zatÃ­Å¾enÃ­ pÅ™edpoklÃ¡danÃ© Äinnosti. Pokud nemÅ¯Å¾e bÃ½t vytvoÅ™en jednÃ­m kotvenÃ­m, je potÅ™eba propojit nÄ›kolik jistÃ­cÃ­ch bodÅ¯", correct: true },
{ id: "B", text: "musÃ­ bÃ½t vÅ¾dy oznaÄen Äervenou barvou (barva, fÃ¡borek, vlajeÄka, kousek lÃ¡tky)", correct: false },
{ id: "C", text: "mÅ¯Å¾e vytvoÅ™it pouze lezec instruktor. Lezec smÃ­ kotevnÃ­ bod vytvoÅ™it pouze pod dozorem instruktora", correct: false }
]},
{ id: 5, question: "LT05 KotevnÃ­ body v pÅ™Ã­rodÄ›", answers: [
{ id: "A", text: "tvoÅ™Ã­me nejÄastÄ›ji omotÃ¡nÃ­m lana (â€lanoviceâ€œ) o stromy, skalnÃ­ hroty, vklÃ­nÄ›nÃ© balvany. K vytvoÅ™enÃ­ kotevnÃ­ho bodu vyuÅ¾Ã­vÃ¡me prostÅ™ednÃ­ omotÃ¡nÃ­, aby byl co nejmÃ©nÄ› zatÄ›Å¾ovÃ¡n uzel lanovice", correct: true },
{ id: "B", text: "tvoÅ™Ã­me nejÄastÄ›ji z nekoneÄnÃ½ch plochÃ½ch smyÄek, kterÃ© se vÃ¡Å¾ou na zdrh", correct: false },
{ id: "C", text: "tvoÅ™Ã­me nejÄastÄ›ji z ocelovÃ½ch kotvÃ­cÃ­ch smyÄek, kterÃ© jsou k tomuto ÃºÄelu pÅ™edurÄeny", correct: false }
]},
{ id: 6, question: "LT06 JakÃ¡ je doporuÄenÃ¡ rychlost pÅ™i slaÅˆovÃ¡nÃ­", answers: [
{ id: "A", text: "do 2,5 m/s", correct: true },
{ id: "B", text: "do 2,5 m/min", correct: false },
{ id: "C", text: "do 7,5 m/s", correct: false }
]},
{ id: 7, question: "LT06 SlaÅˆovÃ¡nÃ­ je", answers: [
{ id: "A", text: "Äinnost, kterÃ¡ umoÅ¾Åˆuje bezpeÄnÃ½ sestup po lanÄ› pÅ™i pouÅ¾itÃ­ vhodnÃ½ch prostÅ™edkÅ¯ a postupÅ¯", correct: true },
{ id: "B", text: "svazovÃ¡nÃ­ dvou lan", correct: false },
{ id: "C", text: "vytvÃ¡Å™enÃ­ lanovÃ©ho zÃ¡bradlÃ­", correct: false }
]},
{ id: 8, question: "LT07 Je polohovacÃ­ pÃ¡s urÄen k zachycenÃ­ pÃ¡du", answers: [
{ id: "A", text: "ne", correct: true },
{ id: "B", text: "ano", correct: false },
{ id: "C", text: "ano, ale pouze v pro dÃ©lku pÃ¡du 1,5 m", correct: false }
]},
{ id: 9, question: "LT07 K jiÅ¡tÄ›nÃ­ pomocÃ­ poloviÄnÃ­ lodnÃ­ smyÄky pouÅ¾Ã­vÃ¡me", answers: [
{ id: "A", text: "karabinu HMS", correct: true },
{ id: "B", text: "karabinu bez zÃ¡mku", correct: false },
{ id: "C", text: "ocelovou karabinu", correct: false }
]},
{ id: 10, question: "LT07 K zadrÅ¾enÃ­ hasiÄe pomocÃ­ lana se pouÅ¾Ã­vÃ¡", answers: [
{ id: "A", text: "slaÅˆovacÃ­ prostÅ™edek se samoblokujÃ­cÃ­ funkcÃ­", correct: true },
{ id: "B", text: "kladka a pracovnÃ­ lano", correct: false },
{ id: "C", text: "osma", correct: false }
]},
{ id: 11, question: "LT07 Vyberte vhodnÃ½ kotevnÃ­ bod", answers: [
{ id: "A", text: "krokev", correct: true },
{ id: "B", text: "okap", correct: false },
{ id: "C", text: "stÅ™eÅ¡nÃ­ laÅ¥", correct: false }
]},
{ id: 12, question: "LT12 Lezce, kterÃ½ bezvlÃ¡dnÄ› visÃ­ po pÃ¡du do lana", answers: [
{ id: "A", text: "co nejrychleji vyprostÃ­me z visu, odstranÃ­me postroj a uloÅ¾Ã­me do horizontÃ¡lnÃ­ polohy", correct: true },
{ id: "B", text: "ponechÃ¡me v jeho poloze do pÅ™Ã­jezdu ZZS", correct: false },
{ id: "C", text: "vyprostÃ­me z visu a aÅ¾ po 2 hodinÃ¡ch uloÅ¾Ã­me do horizontÃ¡lnÃ­ polohy", correct: false }
]},
{ id: 13, question: "LT12 PÅ™i dlouhÃ©m visu lezce po pÃ¡du hrozÃ­ riziko", answers: [
{ id: "A", text: "poÅ¡kozenÃ­ ledvin", correct: true },
{ id: "B", text: "nevratnÃ© poÅ¡kozenÃ­ dolnÃ­ch konÄetin", correct: false },
{ id: "C", text: "poÅ¡kozenÃ­ srdce", correct: false }
]},
{ id: 14, question: "LT14 JakÃ½ uzel se pouÅ¾Ã­vÃ¡ na konci volnÃ©ho lana (stanoveno cviÄebnÃ­m Å™Ã¡dem)", answers: [
{ id: "A", text: "dvojitÃ½ rybÃ¡Å™skÃ½ uzel", correct: true },
{ id: "B", text: "jednoduchÃ© oÄko", correct: false },
{ id: "C", text: "liÅ¡ÄÃ­ smyÄka", correct: false }
]},
{ id: 15, question: "LT14 Je-li lano vedeno pÅ™es ostrou hranu nebo hrubÃ½ povrch", answers: [
{ id: "A", text: "je nutnÃ© chrÃ¡nit jej pomocÃ­ hranovÃ½ch kladek, chrÃ¡niÄek nebo jinÃ½ch alternativnÃ­ch pomÅ¯cek (odÄ›v, batoh atd.)", correct: true },
{ id: "B", text: "je nutnÃ© urÄit osobu, kterÃ¡ bude lano nepÅ™etrÅ¾itÄ› kontrolovat", correct: false },
{ id: "C", text: "nenÃ­ potÅ™eba provÃ¡dÄ›t zvlÃ¡Å¡tnÃ­ opatÅ™enÃ­ vzhledem k vysokÃ© odolnosti souÄasnÃ½ch lan", correct: false }
]},
{ id: 16, question: "LT16 PracovnÃ­ polohovacÃ­ pÃ¡s", answers: [
{ id: "A", text: "nenÃ­ urÄen k zachycenÃ­ pÃ¡du", correct: true },
{ id: "B", text: "nenÃ­ urÄen k prÃ¡ci", correct: false },
{ id: "C", text: "nenÃ­ urÄen k sebezÃ¡chranÄ›", correct: false }
]},
{ id: 17, question: "LT16 SebezÃ¡chrana slanÄ›nÃ­m se provÃ¡dÃ­", answers: [
{ id: "A", text: "jestliÅ¾e hrozÃ­ bezprostÅ™ednÃ­ ohroÅ¾enÃ­ zdravÃ­ a Å¾ivota, a nenÃ­-li jinÃ¡ moÅ¾nost, jak opustit ohroÅ¾enÃ½ prostor ve vÃ½Å¡ce", correct: true },
{ id: "B", text: "do vÃ½Å¡ky 15 m", correct: false },
{ id: "C", text: "pouze v pod dohledem hasiÄe lezce", correct: false }
]},
{ id: 18, question: "LT19 NouzovÃ© zpÅ¯soby komunikace mÅ¯Å¾eme rozdÄ›lit na", answers: [
{ id: "A", text: "optickÃ©, akustickÃ©, kontaktnÃ­", correct: true },
{ id: "B", text: "akustickÃ©, optickÃ©", correct: false },
{ id: "C", text: "optickÃ©, akustickÃ©, kontaktnÃ­, pomocÃ­ RDST a mobilnÃ­m pÅ™Ã­strojem", correct: false }
]},
{ id: 19, question: "LT19 ShozenÃ­ lana shora dolÅ¯ je potÅ™eba signalizovat povelem", answers: [
{ id: "A", text: "pozor lano", correct: true },
{ id: "B", text: "nenÃ­ tÅ™eba signalizovat", correct: false },
{ id: "C", text: "pozor dole", correct: false }
]},
{ id: 20, question: "LT19 ZaÄÃ¡tek vÃ½stupu oznamuje hasiÄ povelem", answers: [
{ id: "A", text: "lezu", correct: true },
{ id: "B", text: "jdu na to", correct: false },
{ id: "C", text: "jistÃ­Å¡", correct: false }
]},
{ id: 21, question: "LT27 Jako â€podchlazenÃ­ organismuâ€œ se mÃ­nÃ­ teplota", answers: [
{ id: "A", text: "menÅ¡Ã­ neÅ¾ 35Â°C", correct: true },
{ id: "B", text: "menÅ¡Ã­ neÅ¾ 25Â°C", correct: false },
{ id: "C", text: "menÅ¡Ã­ neÅ¾ 28,82Â°C", correct: false }
]},
{ id: 22, question: "LT27 PÅ™i prÃ¡ci za vysokÃ© sluneÄnÃ­ intenzity a tepla hrozÃ­ pÅ™ehÅ™Ã¡tÃ­ organizmu a vzniku moÅ¾nÃ©ho", answers: [
{ id: "A", text: "Ãºpalu", correct: true },
{ id: "B", text: "ÃºspÄ›chu", correct: false },
{ id: "C", text: "ÃºtÄ›ku", correct: false }
]},
{ id: 23, question: "LT28 Kdy se musÃ­ osoby zajistit v koÅ¡i vÃ½Å¡kovÃ© techniky?", answers: [
{ id: "A", text: "bezprostÅ™ednÄ› po vstupu do koÅ¡e", correct: true },
{ id: "B", text: "aÅ¾ s koÅ¡em vystoupajÃ­ do 5 metrÅ¯", correct: false },
{ id: "C", text: "pÅ™Ã­sluÅ¡nici se v koÅ¡i vÃ½Å¡kovÃ© techniky jistit nemusÃ­", correct: false }
]},
{ id: 24, question: "LT28 Po jakou dobu musÃ­ bÃ½t osoby v koÅ¡i vÃ½Å¡kovÃ© techniky zajiÅ¡tÄ›ny?", answers: [
{ id: "A", text: "po celou dobu pobytu v koÅ¡i", correct: true },
{ id: "B", text: "jen pÅ™i nÃ¡stupu do koÅ¡e", correct: false },
{ id: "C", text: "jen pÅ™i vÃ½stupu z koÅ¡e", correct: false }
  ]}
];

let unanswered = shuffle([...questions]); // fronta otÃ¡zek
let wrongQuestions = []; // Å¡patnÃ© odpovÄ›di
let stats = { correct: 0, wrong: 0 };

showQuestion();

document.getElementById("app").addEventListener("click", (e) => {
    if (!waitingForClick) return;
    if (e.target.classList.contains("answer")) return;

    waitingForClick = false;
    showQuestion();
});

function showQuestion() {
    answeredThisQuestion = false;   // odblokuje kliky pro novou otÃ¡zku
    document.getElementById("hint").innerText = "Klikni na odpovÄ›Ä";

    if (unanswered.length === 0) {
        document.getElementById("question").innerText = "Test dokonÄen ğŸ‰";
        document.getElementById("answers").innerHTML = "";
        updateStats();
        return;
    }

    const currentIndex = Math.floor(Math.random() * unanswered.length);
    const q = unanswered[currentIndex];

    document.getElementById("question").innerText = q.question;

const img = document.getElementById("questionImage");

if (q.questionImage) {
    img.src = q.questionImage;
    img.style.display = "block";
} else {
    img.style.display = "none";
}

    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    shuffle(q.answers).forEach(a => {
        const div = document.createElement("div");
        div.className = "answer";
        div.innerText = a.text;

       div.onclick = () => {
    if (answeredThisQuestion) return;  // blokuje vÃ­cenÃ¡sobnÃ© kliky
    answeredThisQuestion = true;       // hned po prvnÃ­m kliknutÃ­ zamkne
    if (waitingForClick) return;

    document.querySelectorAll(".answer").forEach(el => {
        const ansObj = q.answers.find(x => x.text === el.innerText);
        el.classList.add(ansObj.correct ? "correct" : "wrong");
    });

    if (a.correct) {
        stats.correct++;
        unanswered.splice(currentIndex, 1);

        updateStats();
        setTimeout(showQuestion, 1000); // sprÃ¡vnÄ› â†’ automaticky
    } else {
        stats.wrong++;
        waitingForClick = true;

        document.getElementById("hint").innerText =
            "âŒ Å patnÄ› â€“ klikni kamkoliv pro pokraÄovÃ¡nÃ­";

        wrongQuestions.push({
            question: q.question,
            correctAnswer: q.answers.find(x => x.correct).text,
            userAnswer: a.text
        });

        updateStats();
    }
};

        answersDiv.appendChild(div);
    });
}

function updateStats() {
    document.getElementById("stats").innerHTML =
        `âœ… SprÃ¡vnÄ›: ${stats.correct} | âŒ Å patnÄ›: ${stats.wrong}`;
}

// jednoduchÃ© zamÃ­chÃ¡nÃ­ pole
function shuffle(arr) {
    return arr.sort(() => Math.random() - 0.5);
}
</script>
</body>
</html>
